<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>GyRa Technik Login</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      display:flex;
      justify-content:center;
      align-items:center;
      height:100vh;
      background:#e0e0e0;
      font-family: Arial, sans-serif;
    }
    .login-box {
      background: rgba(255,255,255,0.3);
      backdrop-filter: blur(10px);
      padding: 40px;
      border-radius: 20px;
      text-align:center;
      width: 300px;
    }
    input {
      width:90%;
      padding:10px;
      margin:10px 0;
      border-radius:10px;
      border:none;
      backdrop-filter: blur(10px);
      background: rgba(255,255,255,0.4);
    }
    button {
      padding:10px 20px;
      border:none;
      border-radius:10px;
      cursor:pointer;
      font-weight:bold;
      color:white;
      background: rgba(0,128,0,0.7);
    }
    #errorMsg {
      color:red;
      margin-top:10px;
      display:none;
    }
  </style>
</head>
<body>

<div class="login-box">
  <h2>GyRa Technik Login</h2>
  <input type="email" id="email" placeholder="Email">
  <input type="password" id="password" placeholder="Passwort">
  <button id="loginBtn">Anmelden</button>
  <div id="errorMsg">Falsch!</div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyA77Epd0AXYz41c47nXuJHP2EKqWbuneb4",
  authDomain: "gyraevent.firebaseapp.com",
  databaseURL: "https://gyraevent-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "gyraevent",
  storageBucket: "gyraevent.firebasestorage.app",
  messagingSenderId: "1055376556998",
  appId: "1:1055376556998:web:cf91c05b247fcd8450a8c7"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

const loginBtn = document.getElementById("loginBtn");
const errorMsg = document.getElementById("errorMsg");

loginBtn.addEventListener("click", ()=>{
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value.trim();

  // Admin 1/1 immer mÃ¶glich
  if(email === "1" && password === "1"){
    window.location.href="home.html";
    return;
  }

  // Firebase Auth
  signInWithEmailAndPassword(auth, email, password)
  .then((userCredential)=>{
    window.location.href="home.html";
  })
  .catch((error)=>{
    errorMsg.style.display="block";
    setTimeout(()=>errorMsg.style.display="none",3000);
  });
});
</script>

</body>
</html>
